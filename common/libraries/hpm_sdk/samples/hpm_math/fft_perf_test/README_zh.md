# FFT 性能测试
## 概述

fft性能测试主要测试了DSP、ffa以及软件进行fft和ifft变换的性能，包含如下计算单元
- DSP FFT-RADIX-2
- DSP FFT-RADIX-4
- DSP IFFT-RADIX-4
- DSP IFFT-RADIX-2
- DSP FFT-RADIX-2 Q31
- CPU Cooley-Tukey算法
- Q格式和float32互转

## 程序设计

软件生成生成几个幅值和相位不同的正弦波并叠加生成一个波形，然后使用fft变换求出幅频特性数据，最后做ifft回复原始数据，
并比对ifft的数据和fft变换的数据是否相一致。

## 硬件设置

无特殊设置

## 性能优化

- segger已经默认开启O3优化
- hpm_math默认开启了对CPU Cooley-Tukey算法的计算优化，会增加空间占用

## 运行现象

当工程正确运行后，串口终端会输出计算的名称，采样点数，以及幅频特性的数据，以及每一个单元的运行时间，并在最后输出PASS或者ERROR NUM；具体性能如下表所示：

| 采样点              | 64    | 128   | 256   | 512    | 1024   |
|------------------|-------|-------|-------|--------|--------|
| DSP radix-4（fpu） | 5900  | N     | 29869 | N      | 145366 |
| DSP radix-2（fpu） | 9345  | 21220 | 47762 | 106211 | 234534 |
| DSP radix-2（Q31） | 4378  | 9581  | 21177 | 46126  | 101331 |
| FFAQ31           | 2729  | 4923  | 7769  | 18999  | N      |
| CPU（Cooley-Tukey）   | 14495 | 29171 | 61176 | 131084 | 283441 |
| DSP radix-4（fpu） | 6016  | N     | 30384 | N      | 147651 |
| DSP radix-2（fpu） | 9558  | 21632 | 48733 | 108296 | 238775 |
| DSP radix-2（Q31） | 4641  | 10301 | 22980 | 50645  | 111359 |
| FFAQ31           | 2687  | 4898  | 9152  | 18956  | N      |
| Q31 to Float     | 1208  | 2392  | 4757  | 9493   | 18965  |
| Float to Q31     | 5517  | 10958 | 21970 | 44022  | 88055  |

